(this.webpackJsonpscrabble=this.webpackJsonpscrabble||[]).push([[0],[,,,function(e,t,n){var r=this&&this.__extends||function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.connection=null,t.timeout=null,t.totalReconnectionAttempt=0,t}return r(t,e),t.prototype.connect=function(e,n,r,a){var o=this;return void 0===n&&(n=0),void 0===r&&(r=5),void 0===a&&(a=!1),e=e&&""!==e?e:(a?"wss":"ws")+"://"+window.location.hostname+":"+window.location.port,this.connection=new WebSocket(e),this.connection.addEventListener(t.EVENT_TYPE.OPEN,(function(e){o.timeout&&clearTimeout(o.timeout),o.totalReconnectionAttempt=0,o.emit(t.EVENT_TYPE.OPEN,e)})),this.connection.addEventListener(t.EVENT_TYPE.CLOSE,(function(a){o.emit(t.EVENT_TYPE.CLOSE,a),n>0&&!o.closed&&(r>0||-1===r)&&!o.timeout&&(o.totalReconnectionAttempt++,o.timeout=setTimeout((function(){o.connect(e,n,-1===r?r:r>0?r-1:0),o.timeout=null}),1e3*n)),o.connection=null})),this.connection.addEventListener(t.EVENT_TYPE.ERROR,(function(e){o.emit(t.EVENT_TYPE.ERROR,e)})),this.connection.addEventListener(t.EVENT_TYPE.MESSAGE,(function(e){var n=null,r=null;try{n=JSON.parse(e.data)}catch(a){r=a}r?o.emit(t.EVENT_TYPE.MSG_ERROR,r):n&&o.emit(n[0],n[1])})),this},t.prototype.close=function(e,t){void 0===e&&(e=1e3),void 0===t&&(t=""),this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.connection&&(this.connection.close(e,t),this.connection=null),this.closed=!0},t.prototype.send=function(e,t,n){if(!this.connection||this.connection.readyState!==WebSocket.OPEN)throw new Error("Connection is closed");var r=JSON.stringify([e,t,n]);this.connection.send(r)},t.prototype.isClosed=function(){return!this.connection||this.connection.readyState!==WebSocket.OPEN},t.prototype.getTotalReconnectionAttempt=function(){return this.totalReconnectionAttempt},t.READY_STATE={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3},t.EVENT_TYPE={OPEN:"open",CLOSE:"close",ERROR:"error",MESSAGE:"message",MSG_ERROR:"0"},t}(a(n(16)).default);t.default=o},,,,,function(e,t,n){e.exports=n(19)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.handlerContainers={}}return e.prototype.addEventListener=function(e,t){return this.handlerContainers[e]?this.handlerContainers[e].push(t):this.handlerContainers[e]=[t],this},e.prototype.emit=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(Array.isArray(this.handlerContainers[e]))for(var a=0;a<this.handlerContainers[e].length;a++)(t=this.handlerContainers[e])[a].apply(t,n)},e.prototype.removeEventListener=function(e,t){return Array.isArray(this.handlerContainers[e])&&(this.handlerContainers[e]=this.handlerContainers[e].filter((function(e){return e!==t}))),this},e}();t.default=n},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(5),l=n.n(o),c=n(1),i=(n(13),function(e){var t=e.isOnline,n=e.username,o=e.handleLogOut,l=Object(r.useState)(!1),i=Object(c.a)(l,2),s=i[0],u=i[1];return a.a.createElement("div",{className:"status",style:{position:"relative"}},a.a.createElement("img",{src:"./img/avatar/default-avatar.jpg",alt:"avatar",className:"avatar ".concat(t?"is-online":"is-offline"),onClick:function(){return u((function(e){return!e}))}}),a.a.createElement("ul",{className:"menu",style:{display:s?"block":"none"}},a.a.createElement("li",{className:"word-wrap-up",style:{borderBottom:"solid 1px #000",cursor:"default"}},"\u26f9 ",n),a.a.createElement("li",{style:{cursor:"pointer"},onClick:o},"Log Out")))}),s=function(e){var t=e.isOnline,n=e.loggedIn,r=e.handleLogOut,o=e.username,l=void 0===o?"":o;return a.a.createElement("header",null,"Play Scrabble.Com",n?a.a.createElement(i,{isOnline:t,username:l,handleLogOut:r}):null)},u=(n(14),function(e){var t=e.msg,n=e.type,r="#f44949";return"INFO"===n?r="#b8f7ee":"WARNING"===n&&(r="#ff9900"),a.a.createElement("div",{className:"error",style:{backgroundColor:r}},t)}),d=function(e,t,n,r,a){fetch(e,t).then((function(e){if(e.ok)return e.json();throw new Error(404===e.status?"Not Found":500===e.status?e.statusText:"Internal Server Error")})).then((function(e){r.current||n({loading:!1,data:e,error:null,reQuery:a})})).catch((function(e){console.error(e),n({loading:!1,data:null,error:e,reQuery:a})}))};var f=12,m=3,p="development",b="development"===p?"".concat(window.location.protocol,"//").concat(window.location.hostname,":3001"):"".concat(window.location.protocol,"//").concat(window.location.hostname,":").concat(window.location.port),v="development"===p?"ws://".concat(window.location.hostname,":3001"):"ws://".concat(window.location.hostname,":").concat(window.location.port);function g(e){return{credentials:"include",method:e,mode:"development"===p?"cors":"same-origin"}}function y(e){for(var t=0,n=0;e;){if("body"===e.tagName.toLowerCase()){var r=e.scrollLeft||document.documentElement.scrollLeft,a=e.scrollTop||document.documentElement.scrollTop;t+=e.offsetLeft-r+e.clientLeft,n+=e.offsetTop-a+e.clientTop}else t+=e.offsetLeft-e.scrollLeft+e.clientLeft,n+=e.offsetTop-e.scrollTop+e.clientTop;e=e.offsetParent}return{x:t,y:n}}function E(){return(Math.random()*Math.random()*Math.random()).toString(16)}function h(e){return e.length<1?"":e.length>1?"".concat(e.join(", ")," are offline, game paused"):"".concat(e[0]," is offline, game paused")}var O="1",P="2",j="3",w="4",T="5",L="6",C="7",x="8",S="9",D="10",N="11",I="12",R="13",k="14",B="15",W="16",_="17",A="18",M="19",G="20",F="21",z="22",Y="24",U="/",V="/game",H="/start_new_game",X="/join-game",J="/waiting_for_acceptance_offer",Q="/viewer",Z="/login",$="/log-out",q={viewer:g("GET"),login:g("POST"),logOut:g("GET")};n(15);var K=function(e){var t=e.updateUsername,n=Object(r.useState)(""),o=Object(c.a)(n,2),l=o[0],i=o[1],s=Object(r.useState)(""),u=Object(c.a)(s,2),d=u[0],p=u[1],v=function(e){var t=Object(r.useState)({loading:!1,data:null,error:null}),n=Object(c.a)(t,2),a=n[0],o=n[1],l=Object(r.useCallback)((function(t){return fetch(e,t).then((function(e){if(e.ok)return e.json();throw new Error(404===e.status?"Not Found":500===e.status?e.statusText:"Internal Server Error")})).then((function(e){var t={loading:!1,data:e,error:null};return o(t),t})).catch((function(e){throw console.error(e),o({loading:!1,data:null,error:e}),e}))}),[e]);return[a,l]}(b+Z),g=Object(c.a)(v,2),y=g[0],E=g[1];return y.error&&p(y.error.message),a.a.createElement("form",{action:"",onSubmit:function(e){e.preventDefault();var n=function(e){var t="";return""===e?t="Username is required":e.length<m?t="Username should be atleast ".concat(m," character long"):e.length>f?t="Username should not be more than ".concat(f," character long"):/[a-zA-Z\d]/gi.test(e)||(t="Invalid username, Username can only contain alphabelt or number"),t}(l);if(n)p(n);else{var r=q.login;r.headers={"Content-type":"application/json"},r.body=JSON.stringify({username:l}),E(r).then((function(e){var n=e.data;n.success?t(n.username):p(n.msg)}))}},className:"login-form"},a.a.createElement("label",{htmlFor:"username"},"Select Username "),a.a.createElement("input",{type:"text",name:"username",onChange:function(e){d.length>0&&p(""),i(e.target.value.trim().slice(0,f))},value:l}),a.a.createElement("span",{style:{marginLeft:10,color:"#64edcb",backgroundColor:"#2c23b3",padding:5,borderRadius:4}},f-l.length),a.a.createElement("input",{type:"submit",value:"Log In",style:{marginLeft:10}}),a.a.createElement("div",{className:"form-error"},d))},ee=n(7),te=n(3),ne=n.n(te),re=function(e){var t=e.username,n=e.score,r=e.isCurrentPlayer,o=e.tick;return a.a.createElement("div",{style:{display:"flex",backgroundColor:"#6ba2b7",width:250,borderRadius:5,padding:5,color:"#fff",marginBottom:"20px",border:r?"solid 2px green":"none"}},a.a.createElement("img",{style:{width:50,flexBasis:50,borderRadius:"50%"},src:"./img/avatar/default-avatar.jpg",alt:""}),a.a.createElement("div",{style:{flexBasis:100,marginLeft:10},className:"word-wrap-up"},a.a.createElement("span",{style:{width:10,backgroundColor:"green",display:"inline-block",borderRadius:"50%",height:10,position:"relative",top:4}},"\xa0")," ",t),a.a.createElement("div",{style:{flex:1}},a.a.createElement("div",null,"\ud83d\udd51 ",r?o:""),a.a.createElement("div",null,"\ud83d\udcbb ",n)))},ae={textAlign:"center",flex:1},oe=function(e){var t=e.playerInputTracker;return a.a.createElement("div",{style:{borderRadius:5,backgroundColor:"#6ba2b7",width:250,color:"#fff",height:200}},a.a.createElement("div",{style:{boxShadow:"0px 2px 1px 0px rgba(0, 0, 0, 0.5)",display:"flex",padding:5}},a.a.createElement("div",{style:ae},"Player"),a.a.createElement("div",{style:ae},"Word"),a.a.createElement("div",{style:ae},"Points"),a.a.createElement("div",{style:ae},"Total")),t.map((function(e,t){var n=e.player,r=e.point,o=e.word,l=e.score;return a.a.createElement("div",{style:{display:"flex",marginTop:5},key:"".concat(o).concat(t)},a.a.createElement("div",{className:"word-wrap-up",style:ae},n),a.a.createElement("div",{style:ae},o),a.a.createElement("div",{style:ae},r),a.a.createElement("div",{style:ae},l))})))},le=n(2),ce=n(4);function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(n,!0).forEach((function(t){Object(le.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ue=function(e){var t=e.text,n=e.rowIndex,o=e.columnIndex,l=e.backgroundColor,c=e.color,i=e.hovering,s=e.resetTilePosOnBoard,u=e.tileID,d=e.children,f=e._scrollTop,m=i?{boxShadow:"0px 0px 4px 4px rgba(0, 0, 0,1)"}:{},p=Object(r.useRef)(null);return Object(r.useEffect)((function(){u&&p.current&&s(y(p.current),f,u)})),""===t?a.a.createElement("div",{style:se({userSelect:"none"},m),className:"empty-slot",ref:u?p:null},d):a.a.createElement("div",{style:se({backgroundColor:l,userSelect:"none",color:c,lineHeight:"2.3",textAlign:"center",position:"relative"},m),ref:u?p:null},d||t,0===n?null:a.a.createElement("span",{className:"arrow-up",style:{borderBottom:"5px solid ".concat(l)}}),14===n?null:a.a.createElement("span",{className:"arrow-down",style:{borderTop:"5px solid ".concat(l)}}),0===o?null:a.a.createElement("span",{className:"arrow-left",style:{borderRight:"5px solid ".concat(l)}}),14===o?null:a.a.createElement("span",{className:"arrow-right",style:{borderLeft:"5px solid ".concat(l)}}))},de=function(e){var t=e.maxWidth,n=e.children,o=e.handleSubmitTile,l=e.handlePass,c=e.disableBtn,i=Object(r.useRef)(null),s=Object(r.useRef)(null);return Object(r.useEffect)((function(){var e=setTimeout((function(){i.current&&i.current.blur(),s.current&&s.current.blur()}),600);return function(){clearTimeout(e)}})),a.a.createElement("div",{className:"action-btn-cont",style:{maxWidth:t,marginBottom:10}},a.a.createElement("button",{ref:s,className:"action-btn",style:{backgroundColor:c?"grey":"red"},onClick:l,disabled:c}),a.a.createElement("button",{className:"action-btn",style:{backgroundColor:c?"grey":"#35bd35",float:"right"},onClick:o,ref:i,disabled:c}),n)};function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(n,!0).forEach((function(t){Object(le.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pe=function(e){var t=e.tile,n=e.pos,r=n.x,o=n.y,l=e.handleSetSelectedTile,c=e.zIndex,i=e.boardCellPos,s=e.justPlayedTile?{boxShadow:"1px 1px 0px 1px rgba(0, 0, 0, 0.9), -1px -1px 0px 1px rgba(0, 0, 0, 0.9)"}:{};return a.a.createElement("div",{className:"ScrabbleBlock",style:me({left:r,top:o,zIndex:c},s),onMouseDown:function(e){l({id:t.id,diff:{x:e.clientX-r,y:e.clientY-o}},i,{x:r,y:o})}},a.a.createElement("span",{className:"ScrabbleLetter",style:{marginRight:1}},t.letter),0===t.point?null:a.a.createElement("span",{className:"ScrabbleNumber"},t.point))},be=function(e){var t=e.tile;return a.a.createElement("div",{className:"ScrabbleBlock",style:{position:"relative",zIndex:1e3,top:-1}},a.a.createElement("span",{className:"ScrabbleLetter",style:{marginRight:1}},t.letter),0===t.point?null:a.a.createElement("span",{className:"ScrabbleNumber"},t.point))},ve=function(e){var t=e.type,n=e.msg,o=e.handleHideDialog,l=e.top,c=e.id,i=e.hide;Object(r.useEffect)((function(){if(i){var e=setTimeout((function(){o(c)}),2e3);return function(){clearTimeout(e)}}}),[i]);var s="#f44949";return"INFO"===t?s="#b8f7ee":"WARNING"===t&&(s="#ff9900"),a.a.createElement("div",{style:{position:"absolute",textAlign:"center",width:"100%",zIndex:1002,backgroundColor:s,boxShadow:"1px 1px 2px 1px rgba(0, 0, 0, 0.6), -1px -1px 2px 1px rgba(0, 0, 0, 0.6)",fontFamily:"cursive",height:25,paddingTop:4,boxSizing:"border-box",top:l}},n)};function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(n,!0).forEach((function(t){Object(le.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ee=[["TW","","","DL","","","","TW","","","","DL","","","TW"],["","DW","","","","TL","","","","TL","","","","DW",""],["","","DW","","","","DL","","DL","","","","DW","",""],["DL","","","DW","","","","DL","","","","DW","","","DL"],["","","","","DW","","","","","","DW","","","",""],["","TL","","","","TL","","","","TL","","","","TL",""],["","","DL","","","","DL","","DL","","","","DL","",""],["TW","","","DL","","","","CE","","","","DL","","","TW"],["","","DL","","","","DL","","DL","","","","DL","",""],["","TL","","","","TL","","","","TL","","","","TL",""],["","","","","DW","","","","","","DW","","","",""],["DL","","","DW","","","","DL","","","","DW","","","DL"],["","","DW","","","","DL","","DL","","","","DW","",""],["","DW","","","","TL","","","","TL","","","","DW",""],["TW","","","DL","","","","TW","","","","DL","","","TW"]],he={TW:{backgroundColor:"#d72421",color:"#f8bdb4"},TL:{backgroundColor:"#4695ca",color:"#c3f5f7"},DW:{backgroundColor:"#ffbead",color:"#b86e74"},DL:{backgroundColor:"#6fe6f6",color:"#5d94c5"},CE:{backgroundColor:"#d72421",color:""},"":{backgroundColor:"",color:""}};function Oe(e,t,n,r){r&&(e=e.sort((function(e,t){var n=e.pos.x,r=t.pos.x;return n<r?-1:n>r?1:0})));var a=0;return e.map((function(e){return-1!==e.tile.boardCellPos.x&&-1!==e.tile.boardCellPos.y||(e.pos={x:t+40*a,y:n},a++),e}))}function Pe(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return[{type:t,msg:n,id:E(),pauseDialogMsg:r}].concat(Object(ce.a)(e))}function je(){return document.body.parentElement?Math.floor(document.body.parentElement.scrollTop):0}var we,Te=function(e){var t=e.tiles,n=e.msg,o=e.arePlayerOffline,l=e.isCurrentPlayer,i=e.currentPlayerID,s=e.ws,u=e.passed,d=e.defTileBoardCellPos,f=Object(r.useState)([]),m=Object(c.a)(f,2),p=m[0],b=m[1],v=Object(r.useState)(!1),g=Object(c.a)(v,2),O=g[0],P=g[1],j=Object(r.useState)(d),w=Object(c.a)(j,2),T=w[0],L=w[1],C=Object(r.useState)({width:0,height:0}),x=Object(c.a)(C,2),S=x[0],D=x[1],N=Object(r.useState)({id:"-1",diff:{x:0,y:0}}),G=Object(c.a)(N,2),F=G[0],Y=G[1],U=Object(r.useState)((function(){return t.map((function(e){return{tile:ye({},e,{boardCellPos:{x:-1,y:-1}}),pos:{x:0,y:0}}}))})),V=Object(c.a)(U,2),H=V[0],X=V[1],J=Object(r.useState)(je()),Q=Object(c.a)(J,2),Z=Q[0],$=Q[1],q=Object(r.useRef)(null),K=Object(r.useRef)({boardSize:493,boundaryX:0,boundaryY:0,startLeftPos:0,startTopPos:0,moveTiles:0,boardPos:{x:0,y:0},cellSize:33,tileToPutOnBoardCell:"-1",alreadyInPositionTiles:{},prevSelectedTileBoardCellPos:{x:-1,y:-1},playedTilesBoardCellPos:{},isCurrentPlayer:l,waitForServer:!1,prevPos:{x:0,y:0},dialogMsgID:""});Object(r.useEffect)((function(){var e=function(){var e=function(){if(!("innerWidth"in window)){var e=document.documentElement||document.body;return{width:e.clientWidth,height:e.clientHeight}}return{width:window.innerWidth,height:window.innerHeight}}(),t=e.width,n=e.height;S.width!==t&&D({width:t,height:n})},t=function(){$(je())};window.addEventListener("resize",e),window.addEventListener("scroll",t);var n=function(e){console.log(e),L((function(t){return delete t[e.prevTileBoardPos],Number.isInteger(e.y)&&Number.isInteger(e.x)&&e.tile?ye({},t,Object(le.a)({},"".concat(e.y,"|").concat(e.x),e.tile)):ye({},t)}))};s.addEventListener(R,n);var r=function(){K.current.waitForServer=!1,K.current.playedTilesBoardCellPos={},b((function(e){return Pe(e,"ERROR","Tile input is not correct")})),X((function(e){return Oe(e.map((function(e){return e.tile.boardCellPos={x:-1,y:-1},e})),K.current.startLeftPos,K.current.startTopPos,!1)}))};s.addEventListener(k,r);var a=function(){b((function(e){return Pe(e,"ERROR","Board cell is already occupied")}))};s.addEventListener(_,a);var o=function(e){K.current.isCurrentPlayer?(X((function(e){return Oe(e.map((function(e){return e.tile.boardCellPos={x:-1,y:-1},e})),K.current.startLeftPos,K.current.startTopPos,!1)})),K.current.playedTilesBoardCellPos={}):(b((function(t){return Pe(t,"INFO",e.msg)})),e.b.length>0&&L((function(t){return e.b.forEach((function(e){delete t[e]})),ye({},t)})))};s.addEventListener(W,o);var c=function(){P(!0)};s.addEventListener(A,c);var u=function(){var e=K.current.dialogMsgID,t=l?"Game resumed!, its your turn to play.":"Game resumed!, ".concat(i," is on turn to play.");e?(b((function(n){return n.map((function(n){return n.id===e?ye({},n,{pauseDialogMsg:!1,msg:t,type:"INFO"}):n}))})),K.current.dialogMsgID=""):b((function(e){return[{type:"INFO",id:E(),pauseDialogMsg:!1,msg:t}].concat(Object(ce.a)(e))})),P(!1)};s.addEventListener(M,u);var d=function(e){L((function(t){return e.forEach((function(e){delete t[e]})),console.log("I was called"),ye({},t)}))};s.addEventListener(z,d);var f=function(e){var t=K.current.dialogMsgID;if(t)b((function(n){return n.map((function(n){return n.id===t?ye({},n,{msg:h(e)}):n}))}));else{var n=E();K.current.dialogMsgID=n;var r={pauseDialogMsg:!0,msg:h(e),id:n,type:"WARNING"};b((function(e){return[r].concat(Object(ce.a)(e))}))}};return s.addEventListener(I,f),function(){window.removeEventListener("resize",e),window.removeEventListener("scroll",t),s.removeEventListener(R,n),s.removeEventListener(k,r),s.removeEventListener(_,a),s.removeEventListener(W,o),s.removeEventListener(A,c),s.removeEventListener(M,u),s.removeEventListener(z,d),s.removeEventListener(I,f)}}),[]),Object(r.useEffect)((function(){if(q.current){var e=y(q.current);e.y+=Z,K.current.boundaryX=e.x+K.current.boardSize,console.log({scrollTop:Z}),K.current.boundaryY=K.current.boardSize+15+e.y+32,K.current.startLeftPos=e.x+70,K.current.startTopPos=K.current.boardSize+15+e.y,K.current.boardPos=e,K.current.alreadyInPositionTiles={},X((function(e){return Oe(e,K.current.startLeftPos,K.current.startTopPos,!1)}))}}),[S,Z]),Object(r.useEffect)((function(){K.current.tileToPutOnBoardCell="-1"}),[F,H]),Object(r.useEffect)((function(){var e=Object.keys(K.current.playedTilesBoardCellPos);if(e.length>0){for(var n="",r="",a=null,o={},l={},c=0;c<H.length;c++)o[(a=H[c].tile).id]=a;console.log({tempTileObject:o});for(var i=0;i<e.length;i++)r=e[i],n=K.current.playedTilesBoardCellPos[r],console.log({tileID:n}),l[r]=o[n];console.log({permanentTileBoardCellPos:l}),L((function(e){return ye({},e,{},l)})),K.current.playedTilesBoardCellPos={},X(Oe(t.map((function(e){return{tile:ye({},e,{boardCellPos:{x:-1,y:-1}}),pos:{x:0,y:0}}})),K.current.startLeftPos,K.current.startTopPos,!1))}}),[t]),Object(r.useEffect)((function(){var e=E();b((function(t){return[{msg:n,pauseDialogMsg:o,type:o?"WARNING":"INFO",id:e}].concat(Object(ce.a)(t))})),o&&(K.current.dialogMsgID=e)}),[n]),Object(r.useEffect)((function(){K.current.waitForServer=!1,K.current.isCurrentPlayer=l}),[l]);var ee=Object(r.useCallback)((function(e,t,n){K.current.prevSelectedTileBoardCellPos=t,K.current.prevPos=n,Y(e)}),[Y]),te=Object(r.useCallback)((function(e,t,n){return X((function(r){return r.map((function(r){return r.tile.id===n&&(r.pos.x=e.x-1,r.pos.y=e.y+t-1,K.current.alreadyInPositionTiles[n]=!0),r}))}))}),[X]),ne=Object(r.useCallback)((function(e){b((function(t){return t.filter((function(t){return t.id!==e}))}))}),[b]),re={x:-1,y:-1},ae={},oe=Object.values(K.current.playedTilesBoardCellPos),ie=H.map((function(e){var t=1e3,n=K.current.prevSelectedTileBoardCellPos,r=n.x,o=n.y;if(e.tile.boardCellPos.x>-1&&e.tile.boardCellPos.y>-1)if(e.tile.id===F.id)re=e.tile.boardCellPos,t=1001;else if(K.current.tileToPutOnBoardCell===e.tile.id){re=e.tile.boardCellPos;var l="".concat(re.y,"|").concat(re.x);if(T[l]||K.current.playedTilesBoardCellPos[l])e.tile.boardCellPos=K.current.prevSelectedTileBoardCellPos,re={x:-1,y:-1},e.tile.boardCellPos.y<=-1||e.tile.boardCellPos.x<=-1?e.pos=K.current.prevPos:ae["".concat(e.tile.boardCellPos.y,"|").concat(e.tile.boardCellPos.x)]=e.tile.id;else if(re.x!==r||re.y!==o){var c={x:re.x,y:re.y,tID:e.tile.id,prevTileBoardPos:-1===o||-1===r?"":"".concat(o,"|").concat(r)};s.send(R,c,[]),delete K.current.playedTilesBoardCellPos["".concat(o,"|").concat(r)],K.current.playedTilesBoardCellPos["".concat(e.tile.boardCellPos.y,"|").concat(e.tile.boardCellPos.x)]=e.tile.id}K.current.prevSelectedTileBoardCellPos={x:-1,y:-1}}else K.current.alreadyInPositionTiles[e.tile.id]||(ae["".concat(e.tile.boardCellPos.y,"|").concat(e.tile.boardCellPos.x)]=e.tile.id);else e.tile.id===F.id&&(t=1001);return a.a.createElement(pe,{tile:e.tile,key:e.tile.id,pos:e.pos,handleSetSelectedTile:ee,zIndex:t,boardCellPos:e.tile.boardCellPos,justPlayedTile:oe.indexOf(e.tile.id)>-1})}));return a.a.createElement("div",{className:"scrabble-board-wrapper",ref:q,onMouseMove:function(e){if("-1"!==F.id){var t=e.clientX>K.current.boundaryX?K.current.boundaryX:e.clientX,n=e.clientY>K.current.boundaryY?K.current.boundaryY:e.clientY,r=t-F.diff.x,a=n-F.diff.y;if(r>=K.current.boardPos.x&&a>=K.current.startTopPos-40)return X((function(e){return e.map((function(e){return e.tile.id===F.id&&(e.tile.boardCellPos={x:-1,y:-1},e.pos={x:r,y:a}),e}))})),void(K.current.moveTiles=1);if(!l||O||u||K.current.waitForServer)return;a=a>=K.current.boardPos.y?a:K.current.boardPos.y,r=(r=r>=K.current.boardPos.x?r:K.current.boardPos.x)<=K.current.boundaryX-25?r:K.current.boundaryX-25,X((function(e){return e.map((function(e){if(e.tile.id===F.id){var t=Math.round((a-K.current.boardPos.y)/K.current.cellSize),n=Math.round((r-K.current.boardPos.x)/K.current.cellSize);K.current.moveTiles=2,e.tile.boardCellPos={y:t,x:n},e.pos={x:r,y:a}}return e}))}))}},onMouseUp:function(){if(console.log({moveTiles:K.current.moveTiles}),2===K.current.moveTiles)K.current.tileToPutOnBoardCell=F.id;else if(1===K.current.moveTiles){var e=K.current.prevSelectedTileBoardCellPos,t=e.x,n=e.y,r="".concat(n,"|").concat(t);K.current.playedTilesBoardCellPos[r]&&(delete K.current.playedTilesBoardCellPos[r],s.send(R,{prevTileBoardPos:r},[])),X((function(e){return Oe(e,K.current.startLeftPos,K.current.startTopPos,!0)}))}Y({id:"-1",diff:{y:0,x:0}}),K.current.moveTiles=0}},a.a.createElement("div",{style:{display:"grid",gridGap:3,gridTemplateColumns:"repeat(15, 30px)",gridTemplateRows:"repeat(15, 30px)",maxWidth:K.current.boardSize,border:"3px solid #fff",position:"relative"},className:"scrabble-board"},p.map((function(e,t){return a.a.createElement(ve,{key:e.id,top:30*t,type:e.type,msg:e.msg,id:e.id,handleHideDialog:ne,hide:!e.pauseDialogMsg})})),Ee.map((function(e,t){return e.map((function(e,n){var r=t===re.y&&n===re.x,o=void 0,l="".concat(t,"|").concat(n),c=""===e?a.a.createElement(a.a.Fragment,null,"\xa0"):null;return T[l]?c=a.a.createElement(be,{tile:T[l]}):r&&"-1"!==K.current.tileToPutOnBoardCell?o=K.current.tileToPutOnBoardCell:ae[l]&&(o=ae[l]),a.a.createElement(ue,Object.assign({key:l,rowIndex:t,columnIndex:n},he[e],{text:e,hovering:r,resetTilePosOnBoard:te,_scrollTop:Z,tileID:o}),c)}))}))),a.a.createElement(de,{maxWidth:K.current.boardSize,handleSubmitTile:function(){Object.keys(K.current.playedTilesBoardCellPos).length>0&&(console.log("I was called"),K.current.waitForServer=!0,console.log(K.current.waitForServer),s.send(B,{},[]))},handlePass:function(){K.current.waitForServer=!0,s.send(W,{},[])},disableBtn:!l||O},ie))},Le=function(e){var t=e.totalTileInBag;return a.a.createElement("span",{style:{position:"relative"}},a.a.createElement("img",{src:"./img/scrabble-bag-2.jpg",alt:"scrabble bag",style:{width:50,marginRight:15}}),a.a.createElement("span",{style:{position:"absolute",color:"#a55694",fontSize:"1.5em",left:"12px",top:"-20px",fontWeight:"bold"}},t))},Ce=2,xe=/^[a-z]+$/,Se=function(e){var t=e.handleToggleDict,n=e.ws,o=Object(r.useState)(""),l=Object(c.a)(o,2),i=l[0],s=l[1],u=Object(r.useState)(!1),d=Object(c.a)(u,2),f=d[0],m=d[1],p=Object(r.useState)([]),b=Object(c.a)(p,2),v=b[0],g=b[1],y=Object(r.useRef)({word:"",action:Ce,timeoutID:void 0}),E=Object(r.useRef)(null);Object(r.useEffect)((function(){var e=function(e){var t=e.w,n=e.l;if(y.current.word===t){var r=""===n?[]:n.split(".");r.length>0?(t=t.slice(0,t.length-1),g(r.map((function(e){return t+e})))):g(['word(s) that match "'.concat(t,'" cannot be found')]),m(!1)}};n.addEventListener(G,e);var t=y.current.timeoutID;return function(){n.removeEventListener(G,e),t&&clearTimeout(t)}}),[]),Object(r.useEffect)((function(){E.current&&E.current.focus()}));return a.a.createElement("div",{className:"open-modal"},a.a.createElement("div",{className:"modal-content"},a.a.createElement("div",{className:"header",style:{position:"relative"}},"Dictionary ",a.a.createElement("span",{className:"close",onClick:t},"\u2613")),a.a.createElement("div",{className:"body"},a.a.createElement("p",null,"Type atleast ",a.a.createElement("strong",null,"two (2)")," alphabelt to search dictionary."),a.a.createElement("input",{type:"text",value:i,placeholder:"Search for words",onChange:function(e){f||m(!0);var t=e.target.value.trim();y.current.word=t,s(t)},onKeyUp:function(e){y.current.timeoutID&&clearTimeout(y.current.timeoutID),y.current.timeoutID=setTimeout((function(){var e=y.current.word;y.current.timeoutID=void 0,e.length<2?(m(!1),g(["Type atleast two letter to check word in dictionary."])):xe.test(e)?n.send(G,{w:e.toLocaleLowerCase()},[]):(m(!1),g(['word(s) that match "'.concat(e,'" cannot be found')]))}),1e3)},ref:E,autoFocus:!0}),f?a.a.createElement("p",null,"Searching"):a.a.createElement("ul",{className:"word-list"},v.map((function(e){return a.a.createElement("li",{key:e},e)}))))))},De=(n(17),document.createElement("div")),Ne=function(e){var t=e.children;return Object(r.useLayoutEffect)((function(){var e=document.getElementById("modal-root");return e&&e.appendChild(De),function(){e&&e.removeChild(De)}}),[]),Object(o.createPortal)(t,De)};!function(e){e[e.GOLD=0]="GOLD",e[e.SILVER=1]="SILVER",e[e.BRONZE=2]="BRONZE"}(we||(we={}));var Ie=function(e){var t=e.prizeAvatarUrl,n=e.name,r=e.score,o=e.avatarAlt,l=e.medalType,c=l===we.GOLD?{left:140,top:0,height:248}:l===we.SILVER?{left:0,top:10,height:238}:{left:280,top:20,height:228};return a.a.createElement("div",{style:{borderRadius:10,boxShadow:"1px 1px 6px 1px rgba(0, 0, 0, 0.9)",position:"absolute",left:c.left,top:c.top,width:122,height:c.height}},a.a.createElement("p",{style:{textAlign:"center",color:"#fff",fontFamily:"cursive",padding:4}},n),a.a.createElement("img",{src:t,alt:o,style:{width:"inherit"}}),a.a.createElement("p",{style:{padding:5,textAlign:"center",margin:5,backgroundColor:"#060607",borderRadius:10,color:"#64edcb",fontFamily:"cursive"}},r))};function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(n,!0).forEach((function(t){Object(le.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Be=[{prizeAvatarUrl:"./img/1st-pos.jpg",avatarAlt:"gold medal",medalType:we.GOLD},{prizeAvatarUrl:"./img/2nd-pos.jpg",avatarAlt:"silver medal",medalType:we.SILVER},{prizeAvatarUrl:"./img/3rd-pos.jpg",avatarAlt:"bronze medal",medalType:we.BRONZE}],We=function(e){var t=e.players,n=e.goBackToHomePage;t=t.length>3?t.slice(0,3):t;for(var r=-1,o=[],l=null,c=0;c<t.length;c++)l=t[r=0===c?1:1===c?0:c],o.push(a.a.createElement(Ie,Object.assign({key:l.name},Be[r],l)));var i=t.length<3?{width:330}:{};return a.a.createElement("div",{className:"open-modal"},a.a.createElement("div",{className:"modal-content",style:ke({height:320},i)},a.a.createElement("div",{className:"header",style:{position:"relative"}},"Prize ",a.a.createElement("span",{className:"close",onClick:n},"\u2613")),a.a.createElement("div",{className:"body",style:{position:"relative"}},o)))},_e=function(e){var t=e.ws,n=e.defTick,o=e.defTiles,l=e.defGenInfo,i=e.myUsername,s=e.goBackToHomePage,u=e.defTileBoardCellPos,d=e.offlinePlayers,f=Object(r.useState)(n),m=Object(c.a)(f,2),p=m[0],b=m[1],v=Object(r.useState)({tiles:o,genInfo:l}),g=Object(c.a)(v,2),y=g[0],E=g[1],O=Object(r.useState)(!1),P=Object(c.a)(O,2),j=P[0],w=P[1],T=Object(r.useState)([]),L=Object(c.a)(T,2),C=L[0],x=L[1],N=Object(r.useRef)(!0);Object(r.useEffect)((function(){var e=function(e){var t=e.t;b(t)};t.addEventListener(S,e);var n=function(e){var t=Object(c.a)(e,3),n=t[0],r=t[1],a=t[2];b(a),N.current=!0,console.log({showMsg:N.current}),E({genInfo:n,tiles:r})};t.addEventListener(D,n);var r=function(e){var t=e.f;x(t)};return t.addEventListener(F,r),function(){t.removeEventListener(S,e),t.removeEventListener(D,n),t.removeEventListener(F,r)}}),[]);var I=y.genInfo,R=y.tiles,k=i===I.currentPlayerID,B=Object(r.useCallback)((function(){return w((function(e){return!e}))}),[w]),W=d.length>0;return a.a.createElement("section",{className:"wrapper"},a.a.createElement("div",{className:"score-board"},I.players.map((function(e){return a.a.createElement(re,{key:e.username,score:e.score,isCurrentPlayer:e.username===I.currentPlayerID,tick:p,username:e.username})})),a.a.createElement(oe,{playerInputTracker:I.lastWords}),a.a.createElement("div",{style:{textAlign:"center",paddingTop:10}},a.a.createElement(Le,{totalTileInBag:I.totalTileInBag}),a.a.createElement("img",{src:"./img/dictionary.jpg",alt:"dict",style:{width:50,cursor:"pointer"},onClick:B}))),a.a.createElement(Te,{tiles:R,ws:t,isCurrentPlayer:k,msg:W?h(d):k?"Its your turn to play.":"".concat(I.currentPlayerID," is on turn to play."),arePlayerOffline:W,passed:k&&p-1<0,defTileBoardCellPos:u,currentPlayerID:I.currentPlayerID}),j?a.a.createElement(Ne,null,a.a.createElement(Se,{handleToggleDict:B,ws:t})):null,C.length>0?a.a.createElement(Ne,null,a.a.createElement(We,{players:C,goBackToHomePage:s})):null)},Ae=function(e){var t=e.changeRoute,n=e.msg,o=Object(r.useState)(n),l=Object(c.a)(o,2),i=l[0],s=l[1];return Object(r.useEffect)((function(){var e=setTimeout((function(){s("")}),3e3);return function(){clearTimeout(e)}}),[]),a.a.createElement("div",{className:"front-page"},i?a.a.createElement("p",{style:{marginBottom:10,fontFamily:"cursive"}},i):null,a.a.createElement("button",{onClick:function(){return t(H)}},"Start A Game"),a.a.createElement("button",{onClick:function(){return t(X)}},"Join A Game"))},Me=function(e){var t=e.changeRoute,n=e.ws,o=Object(r.useState)(""),l=Object(c.a)(o,2),i=l[0],s=l[1],u=Object(r.useState)(!1),d=Object(c.a)(u,2),f=d[0],m=d[1];Object(r.useEffect)((function(){var e=function(e){var n=e.s,r=e.msg;n?t(J,{gameSessionID:n}):t(U,{msg:r})};return n.addEventListener(P,e),function(){n.removeEventListener(P,e)}}),[t,n]);return a.a.createElement("form",{className:"start-game",onSubmit:function(e){e.preventDefault();var t=parseInt(i);Number.isInteger(t)&&t>1&&t<5?n.send(P,{n:t},[]):m(!0)}},a.a.createElement("p",{style:{marginBottom:10,color:f?"red":"#000"}},"Enter the number of player(s) that'll be involved in the game. Must be minimum of 2 and maximum of 4"),a.a.createElement("p",null,a.a.createElement("label",{htmlFor:"playerNumber"},"Number of Player(s)"),a.a.createElement("input",{type:"text",onChange:function(e){s(e.target.value),m(!1)},value:i}),a.a.createElement("br",null),a.a.createElement("label",{htmlFor:"",style:{width:114,display:"inline-block"}},"\xa0"),a.a.createElement("input",{type:"submit",value:"submit",style:{marginTop:10}}),a.a.createElement("button",{onClick:function(){return t(U)},type:"button"},"Cancel")))},Ge=(n(18),function(e){var t=e.joinPlayer;return a.a.createElement("ul",null,t.map((function(e){return a.a.createElement("li",{key:e,className:"player"},"\u26f9 ","".concat(e," join game"))})))}),Fe=function(e){var t=e.ws,n=e.gameSessionID,o=e.changeRoute,l=Object(r.useState)([]),i=Object(c.a)(l,2),s=i[0],u=i[1];Object(r.useEffect)((function(){var e=function(e){var t=e.u;u((function(e){return e.indexOf(t)<0?e.concat(t):e}))};t.addEventListener(L,e);var n=function(){o(U,{msg:"Offer to play rejected."})};t.addEventListener(j,n);var r=function(e){o(U,{msg:"Game cancelled cos ".concat(e," went offline.")})};return t.addEventListener(N,r),function(){t.removeEventListener(L,e),t.removeEventListener(j,n),t.removeEventListener(N,r)}}),[]);return a.a.createElement("div",{className:"front-page",style:{width:500}},a.a.createElement("p",{className:"instruction",style:{marginBottom:10}},"Give the other player(s) game session ID",a.a.createElement("strong",{className:"game-session-id"}," ".concat(n," ")),"to join game."),a.a.createElement("p",{className:"instruction",style:{marginBottom:10}},"waiting for other player(s) to join game..."),a.a.createElement(Ge,{joinPlayer:s}),a.a.createElement("button",{style:{marginRight:0},onClick:function(){t.send(j,{s:n},[]),o(U)}},"Cancel"))},ze=function(e){var t=e.changeRoute,n=e.ws,o=Object(r.useState)([]),l=Object(c.a)(o,2),i=l[0],s=l[1],u=Object(r.useState)(""),d=Object(c.a)(u,2),f=d[0],m=d[1],p=Object(r.useState)(!1),b=Object(c.a)(p,2),v=b[0],g=b[1],y=Object(r.useRef)(!1);Object(r.useEffect)((function(){var e=function(e){var n=e.m;t(U,{msg:n})};n.addEventListener(T,e);var r=function(e){var t=e.u;y.current=!0,s(t)};n.addEventListener(C,r);var a=function(e){var t=e.u;s((function(e){return e.indexOf(t)<0?e.concat(t):e}))};n.addEventListener(L,a);var o=function(){t(U,{msg:"Offer to play was cancelled"})};n.addEventListener(j,o);var l=function(e){t(U,{msg:"Game cancelled cos ".concat(e," went offline.")})};return n.addEventListener(N,l),function(){n.removeEventListener(T,e),n.removeEventListener(C,r),n.removeEventListener(L,a),n.removeEventListener(j,o),n.removeEventListener(N,l)}}),[]);return a.a.createElement("form",{className:"start-game",onSubmit:function(e){e.preventDefault(),f.length>2?n.send(w,{g:f.trim()},[]):g(!0)}},a.a.createElement(Ge,{joinPlayer:i}),a.a.createElement("p",{style:{marginBottom:10,color:v?"red":"#000"}},"Enter the game session id to join game."),a.a.createElement("p",null,y.current?null:a.a.createElement(a.a.Fragment,null,a.a.createElement("label",{htmlFor:"playerNumber"},"Game Session ID "),a.a.createElement("input",{type:"text",onChange:function(e){m(e.target.value),g(!1)},value:f}),a.a.createElement("br",null),a.a.createElement("label",{htmlFor:"",style:{width:114,display:"inline-block"}},"\xa0"),a.a.createElement("input",{type:"submit",value:"submit",style:{marginTop:10}})),a.a.createElement("button",{onClick:function(){y.current&&n.send(j,{},[]),t(U,{})},type:"button"},"Cancel")))},Ye=Object(ee.a)(),Ue=function(e){var t=e.setIsOnline,n=e.handleLogOut,o=e.isOnline,l=e.myUsername,i=Object(r.useState)({path:U,data:{}}),s=Object(c.a)(i,2),d=s[0],f=s[1],m=Object(r.useState)(null),p=Object(c.a)(m,2),b=p[0],g=p[1],y=Object(r.useRef)({ws:null,alreadyConnectedAndLoggedOut:!1});Object(r.useEffect)((function(){var e=new ne.a;e.addEventListener(ne.a.EVENT_TYPE.OPEN,(function(e){t(!0)})),e.addEventListener(ne.a.EVENT_TYPE.CLOSE,(function(e){h(),t(!1)})),e.addEventListener(ne.a.EVENT_TYPE.ERROR,(function(n){t(!1),0===e.getTotalReconnectionAttempt()&&e.isClosed()&&g({msg:"Unable to connect to the realtime server",type:"ERROR"})})),e.addEventListener(ne.a.EVENT_TYPE.MSG_ERROR,(function(e){console.error(e)})),e.addEventListener(O,(function(){y.current.alreadyConnectedAndLoggedOut=!0,e.closed=!0,n()})),e.addEventListener(x,(function(e){Ye.replace(V,{genInfo:e[0],tiles:e[1],tick:e[2],defTileBoardCellPos:{},offlinePlayers:[]})})),e.addEventListener(Y,(function(e){Ye.replace(V,{genInfo:e[0][0],tiles:e[0][1],tick:e[0][2],defTileBoardCellPos:e[1],offlinePlayers:e[2]})})),e.connect(v,1,10,!1),y.current.ws=e;var r=Ye.listen((function(e,t){var n=e.pathname,r=e.state;f({path:n,data:r})})),a=Ye.location.pathname;return a===J||a===V?Ye.replace(U,{}):Ye.replace(a,{}),function(){y.current.alreadyConnectedAndLoggedOut||e.close(),r()}}),[]);var E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ye.replace(e,t)},h=Object(r.useCallback)((function(){E(U,{})}),[E]),P=null;if(y.current.ws&&!y.current.ws.isClosed()){var j=d.path;if(j===U){var w=d.data;P=a.a.createElement(Ae,{changeRoute:E,msg:w.msg?w.msg:""})}else if(j===V){var T=d.data,L=T.genInfo,C=T.tiles,S=T.tick,D=T.defTileBoardCellPos,N=T.offlinePlayers;P=a.a.createElement(_e,{ws:y.current.ws,defGenInfo:L,defTiles:C,defTick:S,myUsername:l,goBackToHomePage:h,defTileBoardCellPos:D,offlinePlayers:N})}else if(j===H)P=a.a.createElement(Me,{changeRoute:E,ws:y.current.ws});else if(j===J){var I=d.data.gameSessionID;P=a.a.createElement(Fe,{changeRoute:E,ws:y.current.ws,gameSessionID:I})}else P=j===X?a.a.createElement(ze,{changeRoute:E,ws:y.current.ws}):a.a.createElement("div",null,"Not Found")}else if(b)P=a.a.createElement(u,{msg:b.msg,type:b.type});else if(!o)return a.a.createElement(u,{msg:"You are currently Offline.",type:"WARNING"});return P},Ve=function(){var e=Object(r.useState)(!1),t=Object(c.a)(e,2),n=t[0],o=t[1],l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(r.useRef)(!1),a=Object(r.useCallback)((function(e,t){d(e,t,s,n,a)}),[]),o=Object(r.useState)({loading:!0,data:null,error:null,reQuery:a}),l=Object(c.a)(o,2),i=l[0],s=l[1];return Object(r.useEffect)((function(){return d(e,t,s,n,a),function(){n.current=!0}}),[e,t,a]),[i,s]}(b+Q,q.viewer),i=Object(c.a)(l,2),f=i[0],m=i[1],p=f.loading,v=f.error,g=f.data,y=f.reQuery,E=function(){y(b+$,q.logOut)};if(p)return a.a.createElement("div",null,"Loading");if(v)return a.a.createElement(u,{msg:v.message,type:"ERROR"});var h=!!g.username;return a.a.createElement("div",{className:"App"},a.a.createElement(s,{isOnline:n,loggedIn:h,handleLogOut:E,username:h?g.username:""}),h?a.a.createElement(Ue,{setIsOnline:o,handleLogOut:E,isOnline:n,myUsername:g.username}):a.a.createElement(K,{updateUsername:function(e){m({reQuery:f.reQuery,loading:!1,error:null,data:{success:!0,msg:"",username:e}})}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(a.a.createElement(Ve,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[8,1,2]]]);
//# sourceMappingURL=main.25b587fa.chunk.js.map